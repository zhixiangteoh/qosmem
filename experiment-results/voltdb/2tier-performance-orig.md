# Motivation Experiments - 2-Tier Memory System

## 2-tier memory system - performance of VoltDB against available local DRAM

### WSS: 2GB

### 192GB (default) local DRAM, 192GB (default) remote DRAM

```
============================== BENCHMARK RESULTS ==============================
Time: 191121 ms
Total transactions: 5800000
Transactions per second: 30347.27
            Stock Level:     232555 total      1216.79 txn/s     73007.67 txn/m
               Delivery:     231960 total      1213.68 txn/s     72820.88 txn/m
           Order Status:     231858 total      1213.15 txn/s     72788.86 txn/m
                Payment:    2493974 total     13049.19 txn/s    782951.25 txn/m
              New Order:    2609653 total     13654.45 txn/s    819267.31 txn/m
        Reset Warehouse:          0 total         0.00 txn/s         0.00 txn/m
===============================================================================



*************************************************************************
System Statistics
*************************************************************************
 - Ran for 191.12 seconds
 - Performed 5,800,000 Stored Procedure calls
 - At 30,347.27 calls per second
 - Average Latency = 68.17 ms
 -   Latency   0ms -  25ms = 1,403
 -   Latency  25ms -  50ms = 2,986,041
 -   Latency  50ms -  75ms = 1,486,893
 -   Latency  75ms - 100ms = 539,682
 -   Latency 100ms - 125ms = 370,809
 -   Latency 125ms - 150ms = 153,387
 -   Latency 150ms - 175ms = 104,684
 -   Latency 175ms - 200ms = 57,650
 -   Latency 200ms+        = 99,451


-------------------------------------------------------------------------------------
 System Statistics
-------------------------------------------------------------------------------------


-------------------------------------------------------------------------------------
Final:   | Txn.:   5,800,000 [!     26,236] @    30,348.1 TPS | Lat. =       5 <    68.17 <    3464
-------------------------------------------------------------------------------------
Lat.:     25 <     50 <     75 <    100 <    150 <    200 <    250 <    300 <    300+
-------------------------------------------------------------------------------------
%       0.02 |  51.48 |  25.64 |   9.30 |   9.04 |   2.80 |   0.91 |   0.40 |   0.41
voltdb client ended at 1688130779987211147
voltdb client run time 216985695535 ns
```

```
============================== BENCHMARK RESULTS ==============================
Time: 197236 ms
Total transactions: 5800000
Transactions per second: 29406.40
            Stock Level:     232555 total      1179.07 txn/s     70744.19 txn/m
               Delivery:     231960 total      1176.05 txn/s     70563.19 txn/m
           Order Status:     231858 total      1175.54 txn/s     70532.16 txn/m
                Payment:    2493974 total     12644.62 txn/s    758677.13 txn/m
              New Order:    2609653 total     13231.12 txn/s    793867.19 txn/m
        Reset Warehouse:          0 total         0.00 txn/s         0.00 txn/m
===============================================================================



*************************************************************************
System Statistics
*************************************************************************
 - Ran for 197.24 seconds
 - Performed 5,800,000 Stored Procedure calls
 - At 29,406.40 calls per second
 - Average Latency = 70.30 ms
 -   Latency   0ms -  25ms = 3,541
 -   Latency  25ms -  50ms = 3,176,520
 -   Latency  50ms -  75ms = 1,357,416
 -   Latency  75ms - 100ms = 274,093
 -   Latency 100ms - 125ms = 279,449
 -   Latency 125ms - 150ms = 363,893
 -   Latency 150ms - 175ms = 150,557
 -   Latency 175ms - 200ms = 70,684
 -   Latency 200ms+        = 123,847


-------------------------------------------------------------------------------------
 System Statistics
-------------------------------------------------------------------------------------


-------------------------------------------------------------------------------------
Final:   | Txn.:   5,800,000 [!     26,236] @    29,406.8 TPS | Lat. =       2 <    70.30 <    2531
-------------------------------------------------------------------------------------
Lat.:     25 <     50 <     75 <    100 <    150 <    200 <    250 <    300 <    300+
-------------------------------------------------------------------------------------
%       0.06 |  54.77 |  23.40 |   4.73 |  11.09 |   3.81 |   0.87 |   0.75 |   0.52
voltdb client ended at 1688131210610249312
voltdb client run time 226602485147 ns
```

### 9GB local DRAM, 80GB remote DRAM

#### Run 1
```
============================== BENCHMARK RESULTS ==============================                        
Time: 191310 ms          
Total transactions: 5800000                        
Transactions per second: 30317.29                  
            Stock Level:     232555 total      1215.59 txn/s     72935.55 txn/m                        
               Delivery:     231960 total      1212.48 txn/s     72748.95 txn/m                        
           Order Status:     231858 total      1211.95 txn/s     72716.95 txn/m                        
                Payment:    2493974 total     13036.30 txn/s    782177.81 txn/m                        
              New Order:    2609653 total     13640.96 txn/s    818457.94 txn/m                        
        Reset Warehouse:          0 total         0.00 txn/s         0.00 txn/m                        
===============================================================================                        



*************************************************************************                              
System Statistics        
*************************************************************************                              
 - Ran for 191.31 seconds                          
 - Performed 5,800,000 Stored Procedure calls      
 - At 30,317.29 calls per second                   
 - Average Latency = 68.30 ms                      
 -   Latency   0ms -  25ms = 1,625                 
 -   Latency  25ms -  50ms = 3,193,256             
 -   Latency  50ms -  75ms = 1,334,078             
 -   Latency  75ms - 100ms = 340,998               
 -   Latency 100ms - 125ms = 406,854               
 -   Latency 125ms - 150ms = 313,101               
 -   Latency 150ms - 175ms = 91,544                
 -   Latency 175ms - 200ms = 25,939                
 -   Latency 200ms+        = 92,605                


-------------------------------------------------------------------------------------                  
 System Statistics       
-------------------------------------------------------------------------------------                  


-------------------------------------------------------------------------------------                  
Final:   | Txn.:   5,800,000 [!     26,236] @    30,318.2 TPS | Lat. =       3 <    68.30 <    1977
-------------------------------------------------------------------------------------                  
Lat.:     25 <     50 <     75 <    100 <    150 <    200 <    250 <    300 <    300+                  
-------------------------------------------------------------------------------------                  
%       0.03 |  55.06 |  23.00 |   5.88 |  12.41 |   2.03 |   0.81 |   0.15 |   0.64                   
voltdb client ended at 1688132872849903012         
voltdb client run time 218507039861 ns
```

#### Run 2
```
============================== BENCHMARK RESULTS ==============================
Time: 178576 ms
Total transactions: 5800000
Transactions per second: 32479.17
            Stock Level:     232555 total      1302.27 txn/s     78136.48 txn/m
               Delivery:     231960 total      1298.94 txn/s     77936.56 txn/m
           Order Status:     231858 total      1298.37 txn/s     77902.29 txn/m
                Payment:    2493974 total     13965.90 txn/s    837953.75 txn/m
              New Order:    2609653 total     14613.68 txn/s    876820.94 txn/m
        Reset Warehouse:          0 total         0.00 txn/s         0.00 txn/m
===============================================================================



*************************************************************************
System Statistics
*************************************************************************
 - Ran for 178.58 seconds
 - Performed 5,800,000 Stored Procedure calls
 - At 32,479.17 calls per second
 - Average Latency = 63.45 ms
 -   Latency   0ms -  25ms = 5,139
 -   Latency  25ms -  50ms = 3,605,495
 -   Latency  50ms -  75ms = 1,175,765
 -   Latency  75ms - 100ms = 253,631
 -   Latency 100ms - 125ms = 397,424
 -   Latency 125ms - 150ms = 274,814
 -   Latency 150ms - 175ms = 38,373
 -   Latency 175ms - 200ms = 4,718
 -   Latency 200ms+        = 44,641


-------------------------------------------------------------------------------------
 System Statistics
-------------------------------------------------------------------------------------


-------------------------------------------------------------------------------------
Final:   | Txn.:   5,800,000 [!     26,236] @    32,480.3 TPS | Lat. =       2 <    63.45 <    2664
-------------------------------------------------------------------------------------
Lat.:     25 <     50 <     75 <    100 <    150 <    200 <    250 <    300 <    300+
-------------------------------------------------------------------------------------
%       0.09 |  62.16 |  20.27 |   4.37 |  11.59 |   0.74 |   0.09 |   0.06 |   0.62
voltdb client ended at 1688134578691864555
voltdb client run time 204195767295 ns
```

#### Run 3
```
============================== BENCHMARK RESULTS ==============================
Time: 178821 ms
Total transactions: 5800000
Transactions per second: 32434.67
            Stock Level:     232555 total      1300.49 txn/s     78029.43 txn/m
               Delivery:     231960 total      1297.16 txn/s     77829.79 txn/m
           Order Status:     231858 total      1296.59 txn/s     77795.56 txn/m
                Payment:    2493974 total     13946.76 txn/s    836805.69 txn/m
              New Order:    2609653 total     14593.66 txn/s    875619.69 txn/m
        Reset Warehouse:          0 total         0.00 txn/s         0.00 txn/m
===============================================================================



*************************************************************************
System Statistics
*************************************************************************
 - Ran for 178.82 seconds
 - Performed 5,800,000 Stored Procedure calls
 - At 32,434.67 calls per second
 - Average Latency = 63.67 ms
 -   Latency   0ms -  25ms = 3,706
 -   Latency  25ms -  50ms = 3,555,377
 -   Latency  50ms -  75ms = 1,215,215
 -   Latency  75ms - 100ms = 294,527
 -   Latency 100ms - 125ms = 390,201
 -   Latency 125ms - 150ms = 261,511
 -   Latency 150ms - 175ms = 29,392
 -   Latency 175ms - 200ms = 4,687
 -   Latency 200ms+        = 45,384


-------------------------------------------------------------------------------------
 System Statistics
-------------------------------------------------------------------------------------


-------------------------------------------------------------------------------------
Final:   | Txn.:   5,800,000 [!     26,236] @    32,435.2 TPS | Lat. =       3 <    63.67 <    3275
-------------------------------------------------------------------------------------
Lat.:     25 <     50 <     75 <    100 <    150 <    200 <    250 <    300 <    300+
-------------------------------------------------------------------------------------
%       0.06 |  61.30 |  20.95 |   5.08 |  11.24 |   0.59 |   0.10 |   0.05 |   0.64
voltdb client ended at 1688135241136233613
voltdb client run time 204574512935 ns
```


### 7GB local DRAM, 80GB remote DRAM

#### Run 1
```

```

### 5GB local DRAM, 80GB remote DRAM

#### Run 1
```
============================== BENCHMARK RESULTS ==============================
Time: 198214 ms
Total transactions: 5800000
Transactions per second: 29261.30
            Stock Level:     232555 total      1173.25 txn/s     70395.13 txn/m
               Delivery:     231960 total      1170.25 txn/s     70215.02 txn/m
           Order Status:     231858 total      1169.74 txn/s     70184.14 txn/m
                Payment:    2493974 total     12582.23 txn/s    754933.69 txn/m
              New Order:    2609653 total     13165.84 txn/s    789950.19 txn/m
        Reset Warehouse:          0 total         0.00 txn/s         0.00 txn/m
===============================================================================



*************************************************************************
System Statistics
*************************************************************************
 - Ran for 198.21 seconds
 - Performed 5,800,000 Stored Procedure calls
 - At 29,261.30 calls per second
 - Average Latency = 70.83 ms
 -   Latency   0ms -  25ms = 1,705
 -   Latency  25ms -  50ms = 2,862,364
 -   Latency  50ms -  75ms = 1,625,674
 -   Latency  75ms - 100ms = 324,637
 -   Latency 100ms - 125ms = 352,243
 -   Latency 125ms - 150ms = 372,242
 -   Latency 150ms - 175ms = 125,109
 -   Latency 175ms - 200ms = 32,111
 -   Latency 200ms+        = 103,915


-------------------------------------------------------------------------------------
 System Statistics
-------------------------------------------------------------------------------------


-------------------------------------------------------------------------------------
Final:   | Txn.:   5,800,000 [!     26,236] @    29,262.2 TPS | Lat. =       3 <    70.83 <    2718
-------------------------------------------------------------------------------------
Lat.:     25 <     50 <     75 <    100 <    150 <    200 <    250 <    300 <    300+
-------------------------------------------------------------------------------------
%       0.03 |  49.35 |  28.03 |   5.60 |  12.49 |   2.71 |   0.98 |   0.15 |   0.67
voltdb client ended at 1688136295066923961
voltdb client run time 226026838587 ns
```

### 3GB local DRAM, 80GB remote DRAM

#### Run 1
```

```

### 1GB local DRAM, 80GB remote DRAM

#### Run 1
```
============================== BENCHMARK RESULTS ==============================
Time: 201410 ms
Total transactions: 5800000
Transactions per second: 28796.98
            Stock Level:     232555 total      1154.63 txn/s     69278.09 txn/m
               Delivery:     231960 total      1151.68 txn/s     69100.84 txn/m
           Order Status:     231858 total      1151.17 txn/s     69070.45 txn/m
                Payment:    2493974 total     12382.57 txn/s    742954.31 txn/m
              New Order:    2609653 total     12956.92 txn/s    777415.13 txn/m
        Reset Warehouse:          0 total         0.00 txn/s         0.00 txn/m
===============================================================================



*************************************************************************
System Statistics
*************************************************************************
 - Ran for 201.41 seconds
 - Performed 5,800,000 Stored Procedure calls
 - At 28,796.98 calls per second
 - Average Latency = 72.05 ms
 -   Latency   0ms -  25ms = 2,749
 -   Latency  25ms -  50ms = 2,691,090
 -   Latency  50ms -  75ms = 1,773,977
 -   Latency  75ms - 100ms = 321,095
 -   Latency 100ms - 125ms = 308,717
 -   Latency 125ms - 150ms = 408,746
 -   Latency 150ms - 175ms = 148,123
 -   Latency 175ms - 200ms = 30,659
 -   Latency 200ms+        = 114,844


-------------------------------------------------------------------------------------
 System Statistics
-------------------------------------------------------------------------------------


-------------------------------------------------------------------------------------
Final:   | Txn.:   5,800,000 [!     26,236] @    28,798.0 TPS | Lat. =       2 <    72.05 <    2529
-------------------------------------------------------------------------------------
Lat.:     25 <     50 <     75 <    100 <    150 <    200 <    250 <    300 <    300+
-------------------------------------------------------------------------------------
%       0.05 |  46.40 |  30.59 |   5.54 |  12.37 |   3.08 |   1.08 |   0.24 |   0.66
voltdb client ended at 1688137698288609693
voltdb client run time 229730551404 ns
```
